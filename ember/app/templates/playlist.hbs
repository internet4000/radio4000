<section class="Playlist">

	{{!-- {{fire-playlist
		playlist=model
		authController=authController
		isExpanded=true
		isSingle=true
		onPublishTrack="publishTrack"}} --}}

	{{#if isOwner}}
		<p>Is owner</p>
	{{else}}
		<p>is not owner</p>
	{{/if}}

	<div class="PlaylistHeader">
		<div class="Inner">

			{{#link-to 'playlist' this}}
				<img class="PlaylistAvatar" src="https://i1.sndcdn.com/avatars-000069254848-ak10xz-t200x200.jpg?30a2558">
			{{/link-to}}

				<div class="PlaylistFacts">
					<h1 class="PlaylistTitle">{{title}}</h1>
					<p class="PlaylistDescription">{{body}}</p>
					{{#unless isEditing}}
					{{#if authController.isLoggedIn}}
						<p><button class="Btn--edit" {{action 'editPlaylist'}}>Edit playlist</button></p>
					{{/if}}
					{{/unless}}
				</div>

			{{#if authController.isLoggedIn}}
				{{#if isEditing}}
					<form class="Form" {{action "saveEditing" on="submit"}}>
						{{input value=title placeholder="Title" autofocus='autofocus'}}
						{{input value=slug placeholder="Slug"}}
						{{textarea value=body placeholder="Description"}}
						<button type="submit">Save playlist</button> <button class="Btn--text" {{action 'cancelEditing'}}>Cancel</button>
					</form>
				{{/if}}

				<form class="AddTrack Form" {{action "publishTrack" on='submit'}}>
					{{#if isAdding}}
						{{input value=trackUrl autofocus='autofocus' placeholder="YouTube or Soundcloud url"}}<br>
						{{input value=trackTitle placeholder="Title"}}<br>
						{{textarea value=trackBody placeholder="Optional description"}}<br>
						<button type='submit'>Add track</button> <button class="Btn--text" {{action 'cancelTrack'}}>Cancel</button>
					{{else}}
						<button class="Btn--textInput" {{action 'addTrack'}}>Add a trackâ€¦</button>
					{{/if}}
				</form>
			{{/if}}
		</div>
	</div>

	<div class="PlaylistBody">
		<div class="Inner">

			<div class="Tracks">
				{{#if tracks}}
					<h2>Tracks</h2>
				{{else}}
					<h2>No tracks yet.</h2>
				{{/if}}

				{{#each track in tracks}}
					{{x-track
						track=track
						playlist=model
						authController=authController
						onPublishTrack="publishTrack"}}
				{{/each}}
			</div>
		</div>
	</div>

	{{outlet}}
</section>

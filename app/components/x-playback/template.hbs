<div class="Playback-layoutButtons">
	<button class="Playback-minimalBtn Btn Btn--small" {{action 'toggleMinimizedFormat'}} title="Toggle minimized player (press 'F')">
		{{if uiStates.isMinimized 'â¬’' '_'}}
	</button>
	<button class="Playback-fullscreenBtn Btn Btn--small" {{action 'toggleFullscreenFormat'}} title="Toggle fullscreen player (press 'F')">
		{{#if uiStates.isFullscreen}}
			{{x-icon i='arrows-compress'}}
		{{else}}
			{{x-icon i='arrows-expand'}}
		{{/if}}
	</button>
</div>

<div class="Playback-player">
	{{radio-bot}}
	{{yield}}
	{{ember-youtube class="Player"
		ytid=player.model.ytid
		delegate=this
		delegate-as="emberYoutube"
		playerVars=youtubePlayerVars
		showProgress=true
		lazyload=false
		playing="onYouTubePlay"
		paused="onYouTubePause"
		ended="onYouTubeEnd"
		error="onYouTubeError"}}
</div>

<div class="Playback-body">
	{{#if player.model}}
		<div class="Playback-channel">
		  {{#channel-card channel=channel wide=true}}
		    <div class="Playback-channelSwap">
		      <button class="Btn Btn--small"
			      onClick={{perform bot.playAnotherRadio channel}}
			      disabled={{bot.playAnotherRadio.isRunning}}
			      title="Swap to another radio (press 'W')">
						{{#if bot.playAnotherRadio.isIdle}}
							S<u>w</u>ap
						{{else}}
							Swapping
						{{/if}}
		      </button>
		    </div>
		  {{/channel-card}}
		</div>
		<div class="Playback-text">
			<div class="Playback-title" title="Current track / go to current radio">
				<div {{action "scrollToTrack"}}>
					{{#link-to 'track' channel player.model replace=true}}
						{{player.model.title}}
					{{/link-to}}
				</div>
			</div>
			{{#if player.model.body}}
				<p class="Playback-description">{{player.model.body}}</p>
			{{/if}}
		</div>
	{{/if}}

	<div class="Playback-buttons {{unless player.model "u-hide"}}">
		<button class="Playback-button Playback-shuffle {{if player.isRandom 'is-active'}}" {{action 'toggleRandom'}} title="{{if player.isRandom 'Disable shuffle' 'Enable shuffle'}}">
			<i class="icon icon-shuffle-white" data-grunticon-embed></i>
		</button>

		<button class="Playback-button" {{action 'prev'}} title="Previous track">
			{{x-icon i='previous'}}
		</button>

		{{play-pause-btn class="Playback-button"
			isPlaying=player.isPlaying
			play=(action "play")
			pause=(action "pause")}}

		<button class="Playback-button" {{action 'next'}} title="Next track (press 'S')">
			{{x-icon i='next'}}
		</button>

		<button class="Playback-button Playback-toggleVolume {{if emberYoutube.isMuted 'u-textStrike'}}" {{action "toggleVolume"}} title="Toggle the playback volume (press 'M')">Mute</button>
  </div>
</div>
